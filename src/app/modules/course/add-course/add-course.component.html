<form [formGroup]="courseForm" class="container mt-4">
    <div class="card">
        <div class="card-header bg-primary text-white">
          Add Course
        </div>
     <div class="card-body">
         <div class="form-group">
          <label for="name">Course Name:</label>
          <input type="text" class="form-control" id="name" formControlName="name">
          <ng-container *ngIf="courseForm.controls['name'].errors && (courseForm.controls['name'].dirty || courseForm.controls['name'].touched)">
           <div class="alert alert-danger" *ngIf="courseForm.controls['name'].errors['required']">This field is required</div>
           <div class="alert alert-danger" *ngIf="courseForm.controls['name'].errors['minlength']">This field must be at least 3 characters long</div>
          </ng-container>
         </div>


        <label for="categoryId">Category:</label>
    <select class="form-control" id="categoryId" formControlName="categoryId">
      <option *ngFor="let category of categoryList" [value]="category.id">{{ category.name }}</option>
    </select>
    <ng-container *ngIf="courseForm.controls['categoryId'].errors && (courseForm.controls['categoryId'].dirty || courseForm.controls['categoryId'].touched)">
      <div class="alert alert-danger" *ngIf="courseForm.controls['categoryId'].errors['required']">Please select a category</div>
    </ng-container>

    <div class="form-group">
        <label>Learning Method:</label><br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" id="learnFrontal" formControlName="learn" [value]="1">
          <label class="form-check-label" for="learnFrontal">Frontal</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" id="learnZoom" formControlName="learn" [value]="2">
          <label class="form-check-label" for="learnZoom">Zoom</label>
        </div>
        <ng-container *ngIf="courseForm.get('learn').invalid && (courseForm.get('learn').dirty || courseForm.get('learn').touched)">
          <div class="alert alert-danger">Please select a learning method</div>
        </ng-container>
      </div>
      <div class="form-group">
    <label for="count">Count:</label>
    <input type="number" class="form-control" id="count" formControlName="count">
    <ng-container *ngIf="courseForm.controls['count'].errors && (courseForm.controls['count'].dirty || courseForm.controls['count'].touched)">
      <div class="alert alert-danger" *ngIf="courseForm.controls['count'].errors['required']">This field is required</div>
    </ng-container>
    </div>

    <div class="form-group">
    <label for="startdate">Start Date:</label>
    <input type="date" class="form-control" id="startdate" formControlName="startdate">
    <ng-container *ngIf="courseForm.controls['startdate'].errors && (courseForm.controls['startdate'].dirty || courseForm.controls['startdate'].touched)">
      <div class="alert alert-danger" *ngIf="courseForm.controls['startdate'].errors['required']">This field is required</div>
    </ng-container>
    </div>

    <div class="form-group">
    <label for="img">Image URL:</label>
    <input type="text" class="form-control" id="img" formControlName="img">
    <ng-container *ngIf="courseForm.controls['img'].errors && (courseForm.controls['img'].dirty || courseForm.controls['img'].touched)">
      <div class="alert alert-danger" *ngIf="courseForm.controls['img'].errors['required']">This field is required</div>
    </ng-container>
    </div>

    <div class="form-group">
      <label for="syllabus">Syllabus:</label>
      <div formArrayName="syllabus">
        <div *ngFor="let syllabusItem of syllabusFormArray.controls; let i = index" [formGroupName]="i">
          <div class="input-group mb-2">
            <input type="text" class="form-control" formControlName="name" placeholder="Topic Name">
            <select class="form-control" formControlName="icon">
              <option *ngFor="let icon of icons" [value]="icon">{{ icon }}</option>
            </select>
            <button type="button" class="btn btn-danger btn-sm" (click)="removeSyllabusTopic(i)">Remove</button>
          </div>
        </div>
      </div>
      <button type="button" class="btn btn-primary mt-2" (click)="addSyllabusTopic()">Add Topic</button>
    </div>
    
</div>
          <div class="card-footer text-right">
            <button type="submit" class="btn btn-primary" (click)="saveCourse()">Save</button>
          </div>
</div>

  
  
  <!-- <label for="syllabus">Syllabus:</label>
  <div formArrayName="syllabus">
    <div *ngFor="let syllabusItem of syllabusArray.controls; let i = index;">
      <input type="text" class="form-control mb-2" [formControl]="syllabusItem">
      <button type="button" class="btn btn-danger btn-sm" (click)="removeSyllabusItem(i)">Remove</button>
    </div>
  </div>
  <button type="button" class="btn btn-primary mt-2" (click)="addSyllabusItem()">Add Syllabus Item</button> -->


  <!-- {{ courseForm.value | json }} -->
 
</form>
<!-- <ul>
  <li *ngFor="let topic of syllabusFormArray.value; let i = index">
    <input [(ngModel)]="syllabusFormArray.value[i].name">
    </li>
</ul> -->











<!-- "id": new FormControl({ value: this.course?.id, disabled: true }),
    "name": new FormControl(this.course?.name, [Validators.required, Validators.minLength(3)]),
    "categoryId": new FormControl(this.course?.categoryId, [Validators.required]),
    "count": new FormControl(this.course?.count, [Validators.required]),
    "startdate": new FormControl(this.course?.startdate, [Validators.required]),
    "syllabus": this.syllabusFormArray,
    "learn": new FormControl(this.course?.learn, [Validators.required]),
    "techerId": new FormControl(this.course?.techerId, [Validators.required]),
    "img": new FormControl(this.course?.img, [Validators.required]), -->